#pragma once
#include "../EGGIN/gameobject.h"
#include "../EGGIN/api.h"

class Skybox : public GameObject
{
private:
	render::mesh mesh;
public:
	Skybox()
	{
		mesh = render::mesh();
		mesh.vertices = new float[90] {
			-100, -100, 100,
			100, -100, 100,
			100, 100, 100,
			100, 100, 100,
			-100, 100, 100,
			-100, -100, 100,
			//
			-100, -100, 100,
			-100, -100, -100,
			-100, 100, -100,
			-100, 100, -100,
			-100, 100, 100,
			-100, -100, 100,
			//
			-100, -100, -100,
			100, -100, -100,
			100, 100, -100,
			100, 100, -100,
			-100, 100, -100,
			-100, -100, -100,
			//
			100, -100, 100,
			100, -100, -100,
			100, 100, -100,
			100, 100, -100,
			100, 100, 100,
			100, -100, 100,
			//
			100, 100, 100,
			100, 100, -100,
			-100, 100, -100,
			-100, 100, -100,
			-100, 100, 100,
			100, 100, 100
		};
		mesh.uvs = new float[60] {
			0.25, 0.66666f,
			0.0, 0.66666f,
			0.0, 0.33333f,
			0.0, 0.33333f,
			0.25, 0.33333f,
			0.25, 0.66666f,
			//
			0.25, 0.66666f,
			0.5f, 0.66666f,
			0.5f, 0.33333f,
			0.5f, 0.33333f,
			0.25, 0.33333f,
			0.25, 0.66666f,
			//
			0.5, 0.66666f,
			0.75f, 0.66666f,
			0.75f, 0.33333f,
			0.75f, 0.33333f,
			0.5, 0.33333f,
			0.5, 0.66666f,
			//
			1.0, 0.66666f,
			0.75f, 0.66666f,
			0.75f, 0.33333f,
			0.75f, 0.33333f,
			1.0, 0.33333f,
			1.0, 0.66666f,
			//
			0.25, 0.0f,
			0.5, 0.0f,
			0.5, 0.33333f,
			0.5, 0.33333f,
			0.25, 0.33333f,
			0.25, 0.0f,
		};

		mesh.vert_size = 30;
		mesh.mat = api->material.create("sky_day.mat");
		parent = api->render.camera;
	};

	void draw3D() override
	{
		api->render.api->mesh.draw(&this->mesh, this->getGlobalPosition(), vec3());
	}
};